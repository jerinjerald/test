<?xml version="1.0" encoding="utf-8"?>
<odoo>
	

	<report
		id="action_report_wtssr"
		string="WT-SSR"
		model="account.move"
		report_type="qweb-pdf"
		name="print_contact.wtssr"
		print_report_name="'WT-SSR'"
		
	/>
	
	<template id="wtssr">
         <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">										
			 <t t-call="web.external_layout">
                <t t-set="o" t-value="o.with_context(lang=lang)" />
                <t t-set="lines" t-value="o.invoice_line_ids.sorted(key=lambda l: (-l.sequence, l.date, l.move_name, -l.id), reverse=True)"/>

                            <t t-set="location" t-value="o.invoice_line_ids[0].x_location.name" />
                                <t t-set="jobdate" t-value="o.invoice_line_ids[0].x_jobdate" />
                                <t t-set="ref" t-value="o.invoice_line_ids[0].ref" />
                                <span t-set="d_delta" t-value="datetime.timedelta(days=o.x_DaysFrequency)"/>

                              <!--  <span t-set="d_dateorder" t-value="datetime.datetime.strptime(line.x_jobdate,'%Y-%m-%d %H:%M:%S')"/>-->

                                <span t-set="duedate" t-value="o.invoice_line_ids[0].x_jobdate + d_delta"/>
                <div class="page">
                    <h4 class="text-center">
                        <span>WATER TANK CLEANING AND DISINFECTION-SERVICE REPORT</span>
                     
                    </h4>
                   <hr/>
      <!--<div><h3 style="text-align: center;">WATER TANK CLEANING AND DISINFECTION</h3></div>-->
                     <div class="clearfix">
                    
                    </div>
<table class="table table-bordered">
                        
                        <tbody>
                         <tr style="border: 1px solid black;border-collapse: collapse;">
                                <td><b class="col-xs-3 text-left">Customer Details</b>
            <div t-field="o.partner_id"
                t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
            <p t-if="o.partner_id.vat"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>: <span t-field="o.partner_id.vat"/></p>
            <p>
             <t t-if="o.partner_id.email"><t t-esc="'Email'"/>: <span t-field="o.partner_id.email"/></t><br/>
             <t t-if="o.partner_id.phone"><t t-esc="'Phone'"/>: <span t-field="o.partner_id.phone"/></t></p>
             <b>Location:</b><t t-esc="location"/>
             
             </td>
                              
                                 <td>Date : <t t-esc="o.date.strftime('%d/%m/%Y')"/><br/>
                                 GSI Ref : <t t-if="o.invoice_origin"><t t-esc="o.invoice_origin"/></t>  <t t-if="o.x_gsiref"><t t-esc="o.x_gsiref.name"/></t>      <br/>
                                 Customer Ref : <t t-esc="ref"/><br/>
                                 
</td>
                                
                            </tr>
                            
                        </tbody>
                    </table>
                   

                    <div class="clearfix">
                    
                    </div>
                   

<table >
	<tbody>
		 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<th colspan='4' style="padding-left:5px;">SERVICE PERFORMED AND OTHER DETAILS</th>
				
			 
			 
			</tr>
				 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width: 20%;padding-left:5px;">Type of tank</td>
			
				
			<td colspan='3' style="width: 20%;padding-left:5px;"><input   type="checkbox"/>
            <label class="form-check-label" >Concrete coated</label> 
<input   type="checkbox"/>
<label class="form-check-label" >Polyurethane  </label> 
<input   type="checkbox" /><label class="form-check-label" >Molded fiber glass</label> 
<input   type="checkbox" /><label class="form-check-label" >Concrete uncoated </label> 
<input   type="checkbox" /><label class="form-check-label" >Others   </label>   </td>
			 
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width: 30%;padding-left:5px;">Size of the Tank</td>
			
				
			<td colspan='3' style="width: 60%;padding-left:5px;">
            <input   type="checkbox"/><label class="form-check-label" >Gallon </label> 
            <input   type="checkbox"/><label class="form-check-label" >Dimensions  </label>   </td>
			 
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width: 30%;padding-left:5px;">Location of Tank</td>
			
				
			<td colspan='3' style="width: 60%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Roof top Area </label>  
<input   type="checkbox"/><label class="form-check-label" >Ground Level/Basement  </label> 
<input   type="checkbox" /><label class="form-check-label" >Others  </label>    </td>
			 
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td  colspan='4' style="padding-left:5px; ">POST CLEANING CHECKS</td>
				
			 
			</tr>
				 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Overall condition	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Dirty </label> 
<input   type="checkbox" checked="True"/><label class="form-check-label" >Very Dirty	</label> 	</td>
			<td style="width: 25%;padding-left:5px;">Leaks/Damages	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No	</label> 	</td>
			</tr>
		
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Covers and Ventilation screen present	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No	</label> 	</td>
			<td style="width: 25%;padding-left:5px;">Ladder 	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Outside</label> 
<input   type="checkbox"/><label class="form-check-label" >Inside	</label> 	</td>
			</tr>
		
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Pump and Valves working order	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			<td style="width: 25%;padding-left:5px;">Bio film	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Additional cleaning performed	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			<td style="width: 25%;padding-left:5px;">Mold/Algae/Rusty/ Stain	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox" checked="True"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			</tr>
		
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Tank fitted with the drain	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox" checked="True"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			<td style="width:25%;padding-left:5px;">Quantity of water before cleaning	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Full</label>                 
<input   type="checkbox" checked="True"/><label class="form-check-label" >Empty/Low</label>		</td>
			</tr>
		
		
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<th colspan ='4' style="padding-left:5px;">AFTER CLEANING CHECKS</th>
				
			
			</tr>
			
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Water Tank cleaned and disinfected	</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox" checked="True"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			<td style="width: 25%;padding-left:5px;">Pipeline disinfected	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox" checked="True"/><label class="form-check-label" >No</label>		</td>
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Photos taken</td>
				
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox" checked="True"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label>		</td>
			<td style="width: 25%;padding-left:5px;">Ventilation screen Installed	</td>
			<td style="width: 25%;padding-left:5px;"><input   type="checkbox"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox" checked="True"/><label class="form-check-label" >No</label>		</td>
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td colspan ='2' style="padding-left:5px;">Date of cleaning:   <t t-esc="jobdate.strftime('%d/%m/%Y')"/>        
	</td>	<td colspan ='2' style="padding-left:5px;" >	Next due date:<t t-esc="duedate.strftime('%d/%m/%Y')"/>   </td>
				
			
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<th colspan ='4' style="">Test Results ( For detailed report please refer Lab report) (NA)</th>
				
			
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">pH Test</td>
				
			<td style="width: 25%;padding-left:5px;"><t t-esc="o.x_PHtest"/></td>
			<td style="width: 25%;padding-left:5px;">TDS	</td>
			<td style="width: 25%;padding-left:5px;"><t t-esc="o.x_TDS"/>	</td>
			</tr>
			
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width:25%;padding-left:5px;">Certified Sticker on Tank</td>
				
			<td  colspan='3' style="padding-left:5px;"><input   type="checkbox" checked="True"/><label class="form-check-label" >Yes</label> 
<input   type="checkbox"/><label class="form-check-label" >No</label> 	</td>
			</tr>
	</tbody>
</table>


<table class="table table-bordered">
    <tbody>

			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td  colspan ='2' style="">Comments: 
		
				Water tanks needs to be cleaned every 6 months as per the conditions<br/></td>
				
			</tr>
			 <tr style="border: 1px solid black;border-collapse: collapse;">
		
			<td style="width: 50%;">  Engineer/Supervisor Signature <br/><img t-if="o.company_id.x_sign" t-att-src="image_data_uri(o.company_id.x_sign)"   alt="Signature"/></td>

			<td style="width: 50%;">Company/Stamp<br/>  <img t-if="o.company_id.x_stamp" t-att-src="image_data_uri(o.company_id.x_stamp)"   alt="Stamp"/></td>
				
			</tr>
	</tbody>
</table>

                   
                   
                  
                </div>
            </t>		
					
					
		</t>
		</t>	

	</template>
	
</odoo>